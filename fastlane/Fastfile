default_platform(:ios)

# Private lanes

private_lane :run_iOS_tests do
  scan(project: "WIPFoundation.xcodeproj",
    scheme: "WIPFoundation_iOS", 
    devices: ["iPhone 11"]) 
end

private_lane :run_tvOS_tests do
  scan(project: "WIPFoundation.xcodeproj", 
    scheme: "WIPFoundation_tvOS") 
end

private_lane :run_macOS_tests do
  scan(project: "WIPFoundation.xcodeproj", 
    scheme: "WIPFoundation_macOS") 
end

# Public lanes

desc "Run the tests"
lane :tests do
  xcversion(version: "12.0")
  run_macOS_tests
  run_iOS_tests
  run_tvOS_tests
end
